<template>
    <div
      id="wrapper"
      :style="cssVars"
    >
      <svg id="car">
        <path
          id="car-body"
          d="M173.456522,0 L182.23913,11.9192547 L123.270186,11.9192547 C115.114907,11.9192547 111.350932,17.5652174 111.350932,22.5838509 L111.350932,70.8881988 L99.431677,70.8881988 L99.431677,18.1925466 C99.431677,9.40993789 108.214286,0 118.251553,0 L173.456522,0 Z M108.52795,87.5124224 L99.7453416,75.5931677 L158.714286,75.5931677 C166.869565,75.5931677 170.63354,69.947205 170.63354,64.9285714 L170.63354,16.6242236 L182.552795,16.6242236 L182.552795,69.3198758 C182.552795,78.1024845 173.770186,87.5124224 163.732919,87.5124224 L108.52795,87.5124224 Z M156.832298,36.0714286 L168.124224,36.0714286 L168.124224,48.6180124 L147.42236,48.6180124 L156.832298,36.0714286 Z M123.583851,36.0714286 L134.875776,36.0714286 L134.875776,48.6180124 L114.173913,48.6180124 L123.583851,36.0714286 Z M250.304348,42.9720497 L250.304348,54.8913043 L193.217391,54.8913043 L193.217391,42.9720497 L229.602484,42.9720497 L239.012422,30.4254658 L250.304348,30.4254658 L250.304348,42.9720497 Z M20.0745342,74.3385093 L39.5217391,74.3385093 L39.5217391,86.8850932 L0,86.8850932 L20.0745342,74.3385093 Z"
          fill="#35E4D8"
          fill-rule="nonzero"
        ></path>

        <path
          id="backwheel"
          d="M204.509317,58.9689441 L221.404121,58.9689441 C228.357203,58.9689441 233.993789,64.6055302 233.993789,71.5586114 L233.993789,71.6645341 L233.993789,88.4534161 C233.993789,95.3827031 228.376492,101 221.447205,101 L204.545659,101 C197.596301,101 191.962733,95.3664323 191.962733,88.4170743 L191.962733,87.8707753 L191.962733,71.5598205 L191.962733,71.515528 C191.962733,64.586241 197.58003,58.9689441 204.509317,58.9689441 Z M204.76055,69.0062112 C203.23594,69.0062112 202,70.2421515 202,71.7667611 L202,87.939886 L202,88.4534161 C202,89.8392735 203.123459,90.9627329 204.509317,90.9627329 L221.111535,90.9627329 L221.184789,90.9627329 C222.715575,90.9627329 223.956522,89.7217858 223.956522,88.1909999 L223.956522,71.7167656 C223.956522,70.2197677 222.742965,69.0062112 221.245967,69.0062112 L221.19576,69.0062112 L204.839129,69.0062112 L204.76055,69.0062112 Z M206.391304,73.3975155 L219.565217,73.3975155 L219.565217,86.5714286 L206.391304,86.5714286 L206.391304,73.3975155 Z"
          fill="#33E4D8"
        ></path>
        <path
          id="frontwheel"
          d="M60.8509317,56.4596273 L61.1927838,56.4596273 L77.5069844,56.4596273 L77.6982676,56.4596273 C84.6775651,56.4596273 90.3354037,62.1174659 90.3354037,69.0967635 L90.3354037,85.9204476 C90.3354037,92.862797 84.7075175,98.4906832 77.7651681,98.4906832 L77.6986526,98.4906832 L61.2662276,98.4906832 L60.8509317,98.4906832 C53.9216448,98.4906832 48.3043478,92.8733863 48.3043478,85.9440994 L48.3043478,69.0062112 C48.3043478,62.0769243 53.9216448,56.4596273 60.8509317,56.4596273 Z M61.3663754,66.4968944 C59.6958463,66.4968944 58.3416149,67.8511258 58.3416149,69.5216549 L58.3416149,85.9440994 C58.3416149,87.3299568 59.4650743,88.4534161 60.8509317,88.4534161 L77.7301171,88.4534161 L77.7888199,88.4534161 C79.1746773,88.4534161 80.2981366,87.3299568 80.2981366,85.9440994 L80.2981366,69.0062112 C80.2981366,67.6203538 79.1746773,66.4968944 77.7888199,66.4968944 L77.2840115,66.4968944 L62.2150463,66.4968944 L61.3663754,66.4968944 Z M62.7329193,70.8881988 L75.9068323,70.8881988 L75.9068323,84.0621118 L62.7329193,84.0621118 L62.7329193,70.8881988 Z"
          fill="#33E4D8"
        ></path>

      </svg>
      <svg id="smoke">
        <path
          id="smokepath"
          d="m299.7 33c-1.8-8-7-10-7-10l-19-1c-17.8 8-8 29-8 29 5.5 5.5 17 7 17 7-12.7 14.8-7 26-7 26 4 3.8 17 2 17 2v6c3.5 12 25 9 25 9 4.5-2 6-5 6-5l1-3h18c7.3-2.8 6-9 6-9l-1-9c11.3-7.8 8-25 8-25-7.1-4-13.6-4.1-15.5-4 7-9-.5 0-.5 0l1-10c-9-6-16-8-16-8-4.3-1.8-19-1-19-1l-6 6z"
        />
      </svg>

    </div>
</template>

<script lang="ts">
import Vue from 'vue';
import { Component, Prop } from 'nuxt-property-decorator';

@Component({
  components: {},
  computed: {
    cssVars() {
      return {
        '--carspeed': `${this.$props.carSpeed}s`,
        '--exhaustspeed': `${this.$props.exhaustSpeed}s`,
        '--position': this.$props.position,
      };
    },
  },
})
export default class flintCar extends Vue {
  @Prop({
    default: 5,
  })
  carSpeed!: number;

    @Prop({
        default: 2,
    })
    exhaustSpeed!: number;


    @Prop({
        default: '100%',
    })
    position!: string;
}
</script>

<style scoped>

#wrapper {
  transform: rotateY(180deg);
}
#car {
  position: absolute;
  width: 400px;
  height: 100px;
  left: var(--position);
  animation: car var(--carspeed) linear infinite;
  -webkit-animation: car var(--carspeed) linear infinite;
}
#smoke {
  position: absolute;
  width: 400px;
  height: 100px;
  left: calc(var(--position) + 50px);
  animation: smoke var(--exhaustspeed) linear infinite,
    smoke2 var(--carspeed) linear infinite;
  -webkit-animation: smoke var(--exhaustspeed) linear infinite,
    smoke2 var(--carspeed) linear infinite;
}

#smokepath {
  width: 10px;
  fill: #fff;
}

@keyframes smoke {
  from {
    opacity: 1;
    transform: scale(0);
  }
  to {
    transform: scale(0.5);
    opacity: 0.5;
  }
}

@keyframes smoke2 {
  from {
    left: calc(100% + 50px);
  }
  to {
    left: calc(0% + 50px - 300px);
  }
}
@keyframes car {
  from {
    left: 100%;
  }
  to {
    left: -300px;
  }
}
</style>
